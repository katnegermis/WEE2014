% Web Engineering 2013

1 - WordPress
===============
a)
----
~~~~~
root/
    style.css
    index.php
    header.php
    footer.php
    single.php
    page.php
    sidebar.php
    front-page.php
    functions.php
    404.php
~~~~~

b)
----
The WordPress Loop is a loop in which data is fetched from a database and post data is displayed. The loop can be customized such that data is fetched based on some criterias other than the defaults. There can be multiple loops on a page.

The loop usually is a while loop on `have_posts()` calling `the_post()`, after which point functions such as `the_content()` and `the_title()` will output the content and title of a single post.

c)
----
The default of `WP_Query` is to order descending.
~~~~~
$args = array('posts_per_page' => 3, 'post_type' => 'event')
$q = WP_Query($args);
while (q->have_posts()): q->the_post();
    <!-- do stuff -->
endwhile;
~~~~~

d)
-------
`query_posts()` is a convenience function on the global variable `$wp_query`, which is an instance of `WP_Query`. The difference between using `query_posts()` and creating a `WP_Query` object 'manually' is that using `query_posts()` you will override/reuse the global object in `$wp_query`, while creating `WP_Query`'es manually will create new objects which do not interfere with each other; If `query_posts()` is used within another `$wp_query` loop, the effect is that the data in the object is discarded/overridden by the new query.

It seems to me to be less error prone to assign new instances of WP_Query to fresh variables, instead of trying to use the convenience functions available on `$wp_query`. This way it's a lot easier to reason about and see which function calls apply to which query.

e)
----
As written in d), `query_posts()` modifies the global variable `$wp_query`, and therefore is not safe to use in some cases. `query_posts()` should only be used for the main loop of a page.
This is not the case for `get_posts()` which doesn't modify global variables, and is always safe to use; `get_posts()` _returns_ a list of posts which the user can assign to a variable by a name of his choice.

f)
----
You might want to reset the loop data if you have nested loops, and want to use convenience functions like `the_title()`, `the_content()` etc. on both loops.

To reset the post data, one could call `wp_reset_postdata()` or `$variable->reset_postdata()`.

Example:
~~~~~
$loop1 = new WP_Query();
while ($loop1->have_posts()): $loop1->the_post();
    $loop2 = new WP_Query(array($post->some_attribute));
    while ($loop2->have_posts()): $loop2->the_post();
        the_content(); // Outputs content from $loop2.
    endwhile;
    $loop1->reset_postdata(); // Set global $post to data from $loop1.
    the_content(); // Outputs content from $loop1.

endwhile;
~~~~~

g)
----
Integrating custom post types into a theme ensures that users of that theme has the custom post type installed. Installing the custom post type as a plugin means that the users have to remember to install the plugin, as well as installing the theme.
A problem with integrating the custom post type in a theme is that the user has to use that theme in order to use the post type. Adding the post type as a plugin allows the user to use the custom post type with different themes.

A different approach would be to create the custom post type as a must-use plugin. Doing this means that the plugin _will always_ be activated, and cannot be (accidentally) deactivated in the admin menu. MU-plugins, however, can't be updated automatically by WPs plugin manager, and therefore requires users to update them manually.

h)
----
In order to create a custom post type, you need to add functions to be called at the right time by WP. Normally one would register a function to the WP-'init' hook, and call `register_post_type()` with appropriate arguments. This should be done in the `functions.php` file, where one would normally use the WP hooks.


2 - CSS
=========

3 - Web frameworks
====================

4 - Random stuff
==================
